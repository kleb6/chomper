#!/usr/bin/env raku
use cpp-translate;
use cpp-actions;
use Data::Dump::Tree;

sub MAIN(:$stdin = Nil) {

    my $in = $stdin 
        ?? $stdin.IO.slurp.chomp 
        !! $*IN.slurp.chomp;

    my $translated = cpp-translate($in);

    if $translated {
        say $translated;
        #say $translated.made;
        ddt $translated.made;
    }
}
