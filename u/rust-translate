#!/usr/bin/env raku

use rust-grammar;
use Data::Dump::Tree;

sub MAIN(:$stdin = Nil) {

    my $in = $stdin 
        ?? $stdin.IO.slurp.chomp 
        !! $*IN.slurp.chomp;

    $in = $in.subst(/^\s+/,"");

    my $rule = "crate";

    my $parsed = 
    Rust::Grammar.parse($in, :$rule) 
    // Rust::GrammarD.parse($in, :$rule);

    say $parsed;

}
